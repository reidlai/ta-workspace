$schema: 'https://moonrepo.dev/schemas/tasks.json'

fileGroups:
  sources:
    - 'src/**/*'
    - 'types/**/*'
  tests:
    - 'tests/**/*'
    - '**/__tests__/**/*'

tasks:
  build:
    command: 'npm run build'
    inputs:
      - '@group(sources)'
    outputs:
      - 'dist/**'
      - 'build/**'

  test:
    command: 'npm run test'
    inputs:
      - '@group(tests)'
      - '@group(sources)'

  format:
    command: 'npm run format'
    inputs:
      - '@group(sources)'
      - 'prettier.config.js'


  lint:
    command: 'npm run lint'
    inputs:
      - '@group(sources)'
      - '.eslintrc.*'
      - 'tsconfig.json'
