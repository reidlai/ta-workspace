// Code generated by goa v3.14.2, DO NOT EDIT.
//
// insights HTTP client types
//
// Command:
// $ goa gen github.com/reidlai/ta-workspace/apps/ta-server/design

package client

import (
	insights "github.com/reidlai/ta-workspace/apps/ta-server/gen/insights"
	goa "goa.design/goa/v3/pkg"
)

// ListResponseBody is the type of the "insights" service "list" endpoint HTTP
// response body.
type ListResponseBody []*InsightResponse

// InsightResponse is used to define fields on response body types.
type InsightResponse struct {
	// Stock Symbol
	Symbol *string `form:"symbol,omitempty" json:"symbol,omitempty" xml:"symbol,omitempty"`
	// Market Sentiment
	Sentiment *string `form:"sentiment,omitempty" json:"sentiment,omitempty" xml:"sentiment,omitempty"`
	// Analysis Summary
	Summary *string `form:"summary,omitempty" json:"summary,omitempty" xml:"summary,omitempty"`
	// Recommended Action
	Action *string `form:"action,omitempty" json:"action,omitempty" xml:"action,omitempty"`
}

// NewListInsightOK builds a "insights" service "list" endpoint result from a
// HTTP "OK" response.
func NewListInsightOK(body []*InsightResponse) []*insights.Insight {
	v := make([]*insights.Insight, len(body))
	for i, val := range body {
		v[i] = unmarshalInsightResponseToInsightsInsight(val)
	}

	return v
}

// ValidateInsightResponse runs the validations defined on InsightResponse
func ValidateInsightResponse(body *InsightResponse) (err error) {
	if body.Symbol == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("symbol", "body"))
	}
	if body.Sentiment == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("sentiment", "body"))
	}
	if body.Summary == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("summary", "body"))
	}
	if body.Action == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("action", "body"))
	}
	if body.Sentiment != nil {
		if !(*body.Sentiment == "bullish" || *body.Sentiment == "bearish" || *body.Sentiment == "neutral") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.sentiment", *body.Sentiment, []any{"bullish", "bearish", "neutral"}))
		}
	}
	return
}
